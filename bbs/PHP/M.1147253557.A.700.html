<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>[請益] Notice: Only variable references should be returned... - 看板 PHP - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="class MYSQL
{
    var $host;
    var $dbUser;
    var $dbPass;
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="[請益] Notice: Only variable references should be returned...">
<meta property="og:description" content="class MYSQL
{
    var $host;
    var $dbUser;
    var $dbPass;
">
<link rel="canonical" href="https://www.ptt.cc/bbs/PHP/M.1147253557.A.700.html">

<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-common.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-custom.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-print.css" media="print">




	<script async src='/cdn-cgi/challenge-platform/h/g/scripts/cb/invisible.js?cb=710cea9d8fb0afcd'></script></head>
    <body>
		
<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" href="/bbs/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" href="/bbs/PHP/index.html"><span class="board-label">看板 </span>PHP</a>
		<a class="right small" href="/about.html">關於我們</a>
		<a class="right small" href="/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" href="/bbs/PHP/index.html">返回看板</a>
		<div class="bar"></div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">timyau (Unknown-偉哉!33WR)</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">PHP</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">[請益] Notice: Only variable references should be returned...</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Wed May 10 17:35:53 2006</span></div>
class MYSQL
{
    var $host;
    var $dbUser;
    var $dbPass;
    var $dbName;
    var $dbConn;
    var $error;

    function MYSQL($host, $dbUser, $dbPass, $dbName)
    {
        $this-&gt;host   = $host;
        $this-&gt;dbUser = $dbUser;
        $this-&gt;dbPass = $dbPass;
        $this-&gt;dbName = $dbName;

        $this-&gt;connectToDB();
    }

    function connectToDB()
    {
        $this-&gt;dbConn = mysql_connect($this-&gt;host,
                                      $this-&gt;dbUser,
                                      $this-&gt;dbPass);

        if (!$this-&gt;dbConn)
        {
            trigger_error(&#34;Could not Connect to Server&#34;);
            $this-&gt;error = true;
        }
        else if (!mysql_select_db($this-&gt;dbName, $this-&gt;dbConn))
        {
            trigger_error(&#34;Could not Select DataBase&#34;);
            $this-&gt;error = true;
        }
    }

    // 檢查是否發生錯誤
    function isError()
    {
        if ($this-&gt;error)
        {
            return true;
        }
        return false;
    }

    function &amp;query($sql)
    {
<span class="f1 hl">        if (!$queryResource = mysql_query($sql, $this-&gt;dbConn))</span>
        {
            trigger_error(&#39;Query failed :&#39;.$sql);
            return new mysqlResult($this, $queryResource);
        }
    }
}


// 取得SQL查詢結果
class mysqlResult
{
    var $mysql;
    var $query;

    function mysqlResult(&amp;$mysql, $query)
    {
        $this-&gt;mysql = &amp;$mysql;
        $this-&gt;query =  $query;
    }

    function fetch()
    {
        if ($row = mysql_fetch_array($this-&gt;query, mysql_ASSOC))
        {
            return $row;
        }
        else if ($this-&gt;size() &gt; 0)
        {
            mysql_data_seek($this-&gt;query, 0);
            return false;
        }
        else
        {
            return false;
        }
    }

    function isError()
    {
        return $this-&gt;mysql-&gt;isError();
    }

    function size()
    {
        return mysql_num_rows($this-&gt;query);
    }
}

在紅色的那一行會發生

Notice: Only variable references should be returned by reference in
sql.php ...

可是我是照著書上輸入的啊Orz
書又沒有附光碟(去師大圖書館借的...)
不曉得要怎麼改才正確
亂改又會出更多的錯誤  囧
所以向各位求救..
希望有大大指點迷津，謝謝。

--
現在才知道

  原來大家常來HATE版，好處除了可以發洩以外....還可以賺P幣...

  實在是居家旅遊、心情不爽，   必備良藥！

--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc) 
</span>◆ From: 202.133.252.2
<div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">taiwancat</span><span class="f3 push-content">:你用php5?</span><span class="push-ipdatetime"> 05/10 18:22
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">timyau</span><span class="f3 push-content">:是啊...還是這個notice就把他忽略過去就好啦？php.ini略掉</span><span class="push-ipdatetime"> 05/10 19:21
</span></div></div>
    
    <div id="article-polling" data-pollurl="/poll/PHP/M.1147253557.A.700.html?cacheKey=2148-469794999&amp;offset=2713&amp;offset-sig=6858b9bd4ff1a1ce02c56449474ac05dfe9a3f32" data-longpollurl="/v1/longpoll?id=e4a632e6e22bf6cc3e08d6f663224eee7e40ce38" data-offset="2713"></div>
    

    
</div>

		

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//images.ptt.cc/bbs/v2.27/bbs.js"></script>

    <script type="text/javascript">(function(){window['__CF$cv$params']={r:'710cea9d8fb0afcd',m:'Qo41yBe2p_vZMWMcrVYrCFJyg7LzCp.LzDGIRPa9lLg-1653467504-0-AVNsuaScmP4ijdxIayfmQxDA1al9piWlZf6rTE4gGd3Rhu4cqbNm7ZSove2B6FWCNxDjLyEAhFK/0OJvzzrBxmmOq3fW4KNYq7CUFGq7CqJW3sP0hAwVGNBj9t9VHgdENzVyQPwOJlPLj7Ks16vJq9hq+rADm94QTMnBJZYJOyc3',s:[0xe693f792ae,0x8c8fa73441],u:'/cdn-cgi/challenge-platform/h/g'}})();</script></body>
</html>
