<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>[請益] 新手請教 - 看板 PHP - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="各位大大好 小弟新手有請指教
code
http://ideone.com/pdNLXC
問題是換頁的時候就換連同前幾頁的一起出現
所以我就加了這個 $i等於5的時候就跳掉 這樣一頁就只顯示5個
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="[請益] 新手請教">
<meta property="og:description" content="各位大大好 小弟新手有請指教
code
http://ideone.com/pdNLXC
問題是換頁的時候就換連同前幾頁的一起出現
所以我就加了這個 $i等於5的時候就跳掉 這樣一頁就只顯示5個
">
<link rel="canonical" href="https://www.ptt.cc/bbs/PHP/M.1388244174.A.7E7.html">

<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-common.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-custom.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-print.css" media="print">




	<script async src='/cdn-cgi/challenge-platform/h/g/scripts/invisible.js?ts=1653465600'></script></head>
    <body>
		
<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" href="/bbs/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" href="/bbs/PHP/index.html"><span class="board-label">看板 </span>PHP</a>
		<a class="right small" href="/about.html">關於我們</a>
		<a class="right small" href="/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" href="/bbs/PHP/index.html">返回看板</a>
		<div class="bar"></div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">kagome100 (...)</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">PHP</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">[請益] 新手請教</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Sat Dec 28 23:22:49 2013</span></div>
各位大大好 小弟新手有請指教

code
<a href="http://ideone.com/pdNLXC" target="_blank" rel="noreferrer noopener nofollow">http://ideone.com/pdNLXC</a>

問題是換頁的時候就換連同前幾頁的一起出現

所以我就加了這個 $i等於5的時候就跳掉 這樣一頁就只顯示5個
$i++;
if($i==5)
  break;

我想問的是明明sql的部份就有limit $k,$j來區分每頁的顯示範圍

結果怎麼還是不行...

不過顯示這頁的我是在前一頁用ajax到這頁來顯示的

這樣有關係?

有請各位大大指教 謝謝

--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc)
</span>◆ From: 36.230.170.233
<div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:看不太懂整個程式在做些什麼, 不過如果適用ajax撈出來的</span><span class="push-ipdatetime"> 12/29 00:05
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:資料 在丟進容器前有沒有先清除容器內原有的資料?</span><span class="push-ipdatetime"> 12/29 00:05
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:還有你的第設定$k跟$j的第二個條件式, 當資料小於五筆時.</span><span class="push-ipdatetime"> 12/29 00:09
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:..$k會小於0喔</span><span class="push-ipdatetime"> 12/29 00:09
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:echo $k跟$j應該很容易看出問題出在什麼地方</span><span class="push-ipdatetime"> 12/29 00:13
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kagome100</span><span class="f3 push-content">:謝謝D大的指教 請問D大說的第二個條件式是指else if(</span><span class="push-ipdatetime"> 12/29 14:53
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kagome100</span><span class="f3 push-content">:$current_page==$page){$k=$total-5;$j=$total;}這個?</span><span class="push-ipdatetime"> 12/29 14:54
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kagome100</span><span class="f3 push-content">:document.getElementById(&#34;txtHint&#34;).innerHTML=&#34;&#34;;請問</span><span class="push-ipdatetime"> 12/29 15:48
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kagome100</span><span class="f3 push-content">:清除容器是指這個?</span><span class="push-ipdatetime"> 12/29 15:49
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:1. yes 2.沒看到你的js碼, 不過應該是那行沒錯</span><span class="push-ipdatetime"> 12/29 17:38
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:你有試著在各種條件下印出$k 跟 $j 看是否是你的期望值嗎</span><span class="push-ipdatetime"> 12/29 17:38
</span></div>
再度感謝D大

1.
看了一下 第一個條件式應該改成這樣

if($current_page==1){
$k=0;
if($page==1)
    $j=$total;
else
    $j=5;

原本的如果小於5筆時 j值會是5(改成這樣後ex.只有3筆時 j值就是3

但是k一直是0 沒小於0(改這個前後k都是0

印出來看 大概是這樣

如果只有1筆的話 k值是0 j值是1 頁數是1
        2            0      2       1
        3            0      3       1
        4            0      4       1
        5            0      5       1
        6            1      6       2

6筆的時候是共2頁 第一頁是1~5 k是0 j是5

                 第二頁是2~6 k是1 j是6

第二個條件式我是這樣想的

如果在最後一頁 那麼j值就等於總筆數 k值就等於總筆數-5

2.
我把清除容器放在assign前一行(像這樣

document.getElementById(&#34;txtHint30&#34;).innerHTML=&#34;&#34;;
document.getElementById(&#34;txtHint30&#34;).innerHTML=xmlhttp.responseText;

且把break那裡拿掉 結果還是一樣...囧
<span class="f2">※ 編輯: kagome100       來自: 36.230.171.253       (12/29 20:16)
</span><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:第一頁是1~5(limit 0,5)第二頁應該是6~10(limit 5,5)才對</span><span class="push-ipdatetime"> 12/30 09:52
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">DongFeng</span><span class="f3 push-content">:<a href="http://ppt.cc/XzEe" target="_blank" rel="noreferrer noopener nofollow">http://ppt.cc/XzEe</a></span><span class="push-ipdatetime"> 12/30 09:56
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">kagome100</span><span class="f3 push-content">:謝謝D大 沒看這網頁還真不知道錯在那...</span><span class="push-ipdatetime"> 12/30 16:32
</span></div></div>
    
    <div id="article-polling" data-pollurl="/poll/PHP/M.1388244174.A.7E7.html?cacheKey=2148-469799320&amp;offset=2821&amp;offset-sig=5dfccbcc077a29619f5b4af1f48247fce254a9ab" data-longpollurl="/v1/longpoll?id=41a4f250e9ecb6c671460d340bf2024af39bd96f" data-offset="2821"></div>
    

    
</div>

		

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//images.ptt.cc/bbs/v2.27/bbs.js"></script>

    <script type="text/javascript">(function(){window['__CF$cv$params']={r:'710cea3c3b8b8aa4',m:'tW4RPvmnixx8ex40KLKG1ga7F1oJoxW7OD62lLc8gaw-1653467488-0-ASPxiU77NL80mi9xAP4f8lvZf9uPIXFbsoTKGaqB6g8OVdRk3TTv/KWAMzymvHPRbZlbpDEB14YtD32KjKzXizhFD3oQce7Jgyswza40Aap5IcLwdsduRqZRKduvXUX80fIMdhkSdhx83wOd1cHZKMGK0pth3sxMqmvjLRJODIEQ',s:[0x1e2de4b491,0x1d37c75d91],u:'/cdn-cgi/challenge-platform/h/g'}})();</script></body>
</html>
