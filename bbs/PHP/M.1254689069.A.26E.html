<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Re: [請益] phpmailer的問題 - 看板 PHP - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="你用的 phpmailer 版本？
[略]
:  /* Retry while there is no connection */
:     while($index &lt; count($hosts) &amp;&amp; $connection == false) {
:       $hostinfo = array();
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="Re: [請益] phpmailer的問題">
<meta property="og:description" content="你用的 phpmailer 版本？
[略]
:  /* Retry while there is no connection */
:     while($index &lt; count($hosts) &amp;&amp; $connection == false) {
:       $hostinfo = array();
">
<link rel="canonical" href="https://www.ptt.cc/bbs/PHP/M.1254689069.A.26E.html">

<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-common.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-custom.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-print.css" media="print">




	<script async src='/cdn-cgi/challenge-platform/h/g/scripts/invisible.js?ts=1653465600'></script></head>
    <body>
		
<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" href="/bbs/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" href="/bbs/PHP/index.html"><span class="board-label">看板 </span>PHP</a>
		<a class="right small" href="/about.html">關於我們</a>
		<a class="right small" href="/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" href="/bbs/PHP/index.html">返回看板</a>
		<div class="bar"></div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">JoeHorn (每天都在公司玩OLG)</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">PHP</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">Re: [請益] phpmailer的問題</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Mon Oct  5 04:44:27 2009</span></div>
<span class="f2">※ 引述《a10012230 (？？？)》之銘言：
</span><span class="f6">: 我使用PHP5.3.0
</span><span class="f6">: 我去下載了phpmialer for PHP5/6的版本
</span>你用的 phpmailer 版本？

[略]
<span class="f6">:  /* Retry while there is no connection */
</span><span class="f6">:     while($index &lt; count($hosts) &amp;&amp; $connection == false) {
</span><span class="f6">:       $hostinfo = array();
</span><span class="f6">:       if(eregi(&#39;^(.+):([0-9]+)$&#39;, $hosts[$index], $hostinfo)) {
</span><span class="f6">:         $host = $hostinfo[1];
</span><span class="f6">:         $port = $hostinfo[2];
</span><span class="f6">:       } else {
</span><span class="f6">:         $host = $hosts[$index];
</span><span class="f6">:         $port = $this-&gt;Port;
</span><span class="f6">:       }
</span>剛本來想追程式碼，然後把「不該使用 ereg」的事報到官方去的。

可是我的 phpmailer 5.0.2 程式碼是這樣：

    <span class="b1 hl">// Retry while there is no connection</span>
    <span class="f3 hl">try </span><span class="f6 hl">{</span>
      <span class="f3 hl">while</span><span class="f6 hl">(</span><span class="hl">$index </span><span class="f6 hl">&lt; </span><span class="hl">count</span><span class="f6 hl">(</span><span class="hl">$hosts</span><span class="f6 hl">) &amp;&amp; !</span><span class="hl">$connection</span><span class="f6 hl">) {</span>
        <span class="hl">$hostinfo </span><span class="f6 hl">= </span><span class="hl">array</span><span class="f6 hl">();</span>
        <span class="f3 hl">if </span><span class="f6 hl">(</span><span class="hl">preg_match</span><span class="f6 hl">(</span><span class="f2 hl">&#39;/^(.+):([0-9]+)$/&#39;</span><span class="f6 hl">, </span><span class="hl">$hosts</span><span class="f6 hl">[</span><span class="hl">$index</span><span class="f6 hl">], </span><span class="hl">$hostinfo</span><span class="f6 hl">)) {</span>
          <span class="hl">$host </span><span class="f6 hl">= </span><span class="hl">$hostinfo</span><span class="f6 hl">[</span><span class="f1 hl">1</span><span class="f6 hl">];</span>
          <span class="hl">$port </span><span class="f6 hl">= </span><span class="hl">$hostinfo</span><span class="f6 hl">[</span><span class="f1 hl">2</span><span class="f6 hl">];</span>
        <span class="f6 hl">} </span><span class="f3 hl">else </span><span class="f6 hl">{</span>
          <span class="hl">$host </span><span class="f6 hl">= </span><span class="hl">$hosts</span><span class="f6 hl">[</span><span class="hl">$index</span><span class="f6 hl">];</span>
          <span class="hl">$port </span><span class="f6 hl">= </span><span class="hl">$this</span><span class="f6 hl">-&gt;</span><span class="f1 hl">Port</span><span class="f6 hl">;</span>
        <span class="f6 hl">}</span>

所以，更新吧～

--
<span class="f3 b6 hl">★kathsda</span><span class="b5 hl"> 踩叮噹能發洩情緒壓力 是本公司的福利 </span>
To kathsda: 感謝您說明踩叮噹的益處，我會協助推廣踩叮噹運動～
<span class="f3 b6 hl">★kathsda</span><span class="b5 hl"> (￣□￣|||)a。。。為什麼我一直在出產簽簽呢 </span>
To kathsda: 據聞... 叮噹出產（簽簽），必屬佳作！
<span class="f3 b6 hl">★kathsda</span><span class="b5 hl"> 別再相信沒有根據的事實了( ‵□′)───C＜─___-)||| </span>
<span class="f3 b6 hl">★kathsda</span><span class="b5 hl"> x的...打錯自婊了 </span>

--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc) 
</span>◆ From: 123.204.106.34
</div>
    
    <div id="article-polling" data-pollurl="/poll/PHP/M.1254689069.A.26E.html?cacheKey=2148-469786471&amp;offset=1988&amp;offset-sig=95354abc5f5f8f337bad1b357f8500eb91e585b9" data-longpollurl="/v1/longpoll?id=912b0cf922d0dd50f09ca27d888de616c1f58aa3" data-offset="1988"></div>
    

    
</div>

		

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//images.ptt.cc/bbs/v2.27/bbs.js"></script>

    <script type="text/javascript">(function(){window['__CF$cv$params']={r:'710cea614ab9b00c',m:'.8YPkK5V4NbCrmaHJpuepBXrGljJ4M6tCLV_OSA6x5o-1653467494-0-AQnIm7vaDpsx+cV8L3ufZ0NaWOl8eXl5EdPbbxGJ8DCfdPPznSaZAH9+4WxBFE4xuVkT3gmv44ukBOQ+cU1J/tJ1lo0fYnbECH0TTQZ6vNwHskBxf2IEUOfRVPqp/8jS3KieUpnsMbTeU3Q3l2OiZ6rjRxhnIVtynb7+BpXa3E+r',s:[0xc045318970,0xbf884574ac],u:'/cdn-cgi/challenge-platform/h/g'}})();</script></body>
</html>
