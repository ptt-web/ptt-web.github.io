<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Re: [請益] 安裝某php出錯 - 看板 PHP - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="坦白講這是n@board的問題...
如果你是用驚直版的n@board的話
這個版本幾乎不相容於MySQL4+
但問題可以修正，請見下文
完整修正方案如下
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="Re: [請益] 安裝某php出錯">
<meta property="og:description" content="坦白講這是n@board的問題...
如果你是用驚直版的n@board的話
這個版本幾乎不相容於MySQL4+
但問題可以修正，請見下文
完整修正方案如下
">
<link rel="canonical" href="https://www.ptt.cc/bbs/PHP/M.1145238313.A.2C6.html">

<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-common.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-custom.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-print.css" media="print">




	<script async src='/cdn-cgi/challenge-platform/h/g/scripts/invisible.js?ts=1653465600'></script></head>
    <body>
		
<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" href="/bbs/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" href="/bbs/PHP/index.html"><span class="board-label">看板 </span>PHP</a>
		<a class="right small" href="/about.html">關於我們</a>
		<a class="right small" href="/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" href="/bbs/PHP/index.html">返回看板</a>
		<div class="bar"></div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">ybite (水中影)</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">PHP</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">Re: [請益] 安裝某php出錯</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Mon Apr 17 09:59:55 2006</span></div>
<span class="f2">※ 引述《TOOO (何金銀)》之銘言：
</span><span class="f6">: 安裝naboard出現問題
</span><span class="f6">: 如附件圖那樣
</span><span class="f6">: 說是lib.php的372行有問題
</span><span class="f6">: 圖裡面有貼出第372行的語法
</span><span class="f6">: 請問是哪裡錯了嗎??
</span><span class="f6">: 或者是單純虛擬主機的問題
</span><span class="f6">: <a href="http://www.nowayout39.net/photo/d/41-1/Q.JPG" target="_blank" rel="noreferrer noopener nofollow">http://www.nowayout39.net/photo/d/41-1/Q.JPG</a>
</span><div class="richcontent"><img src="http://www.nowayout39.net/photo/d/41-1/Q.JPG" alt="" loading="lazy" /></div>坦白講這是<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="bfd1ffddd0decddb">[email&#160;protected]</a>的問題...

如果你是用驚直版的<a href="/cdn-cgi/l/email-protection" class="__cf_email__" data-cfemail="82ecc2e0ede3f0e6">[email&#160;protected]</a>的話
<span class="f3 hl">這個版本幾乎不相容於MySQL4+</span>
<span class="f3 hl">但問題可以修正，請見下文</span>

完整修正方案如下
MySQL 4～5都適用
唯不相容於MySQL5 Strict Mode
(參考:
<a href="http://www.xanadu.idv.tw/" target="_blank" rel="noreferrer noopener nofollow">http://www.xanadu.idv.tw/</a>
<a href="http://wm.sytes.net/a78/" target="_blank" rel="noreferrer noopener nofollow">http://wm.sytes.net/a78/</a>
)

* default_schema.php

找到
no int(11) DEFAULT &#39;0&#39; NOT NULL auto_increment
改成這樣，要改兩個
no int(11)  NOT NULL auto_increment

找到
check_memo tinyint(1) DEFAULT &#39;0&#39;,
改成
na3_check_memo tinyint(1) DEFAULT &#39;0&#39;,

找到
check tinyint(1) DEFAULT &#39;0&#39; NOT NULL,
改成
na3_check tinyint(1) DEFAULT &#39;0&#39; NOT NULL,

找到
primary key(no,check)
改成
primary key(no,na3_check)

* naboard_schema.php

找到
DEFAULT &#39;0&#39; NOT NULL auto_increment
改成這樣，要改四個
NOT NULL auto_increment

* lib.php

找到
if($new_memo[check_memo]==&#39;1&#39;){
改成
if($new_memo[na3_check_memo]==&#39;1&#39;){

* memo_list.php

找到
edit(&#34;$member_table&#34;,&#34;check_memo=&#39;0&#39;&#34;,&#34;id=&#39;$HTTP_COOKIE_VARS[$member_cookie]&#39;&#34;);
改成
edit(&#34;$member_table&#34;,&#34;na3_check_memo=&#39;0&#39;&#34;,&#34;id=&#39;$HTTP_COOKIE_VARS[$member_cookie]&#39;&#34;);
(上述內容可能被斷行，但都只有一行)

找到
if($data[check]){$mark=&#34;&lt;img src=image/memo_old.gif align=absmiddle&gt;&#34;;}
改成
if($data[na3_check]){$mark=&#34;&lt;img src=image/memo_old.gif align=absmiddle&gt;&#34;;}

* memo_read.php

找到
edit(&#34;$memo_table&#34;,&#34;check=&#39;1&#39;&#34;,&#34;to_id=&#39;$HTTP_COOKIE_VARS[$member_cookie]&#39; and
no=$no&#34;);
改成
edit(&#34;$memo_table&#34;,&#34;na3_check=&#39;1&#39;&#34;,&#34;to_id=&#39;$HTTP_COOKIE_VARS[$member_cookie]&#39;
and no=$no&#34;);

* memo_write_ing.php

找到
edit(&#34;$member_table&#34;,&#34;check_memo=&#39;1&#39;&#34;,&#34;id=&#39;$to_id&#39;&#34;);
改成
edit(&#34;$member_table&#34;,&#34;na3_check_memo=&#39;1&#39;&#34;,&#34;id=&#39;$to_id&#39;&#34;);

都改好了的話，重新安裝，再試一次:P

再外加一點小提醒：
安裝完記得把install*.php砍掉
不然別人可以任意reinstall :Q

--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc)
</span>◆ From: 210.60.107.233
<span class="f2">※ 編輯: ybite           來自: 210.60.107.233       (04/17 10:01)
</span><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">TOOO</span><span class="f3 push-content">:我想起來了..以前裝好像有改過.</span><span class="push-ipdatetime"> 04/17 10:55
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">TOOO</span><span class="f3 push-content">:過勒幾年再想用一次就忘記這些東西..驚直的站又關了</span><span class="push-ipdatetime"> 04/17 10:56
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">TOOO</span><span class="f3 push-content">:真是感謝妳 我先來去試試看!!</span><span class="push-ipdatetime"> 04/17 10:56
</span></div></div>
    
    <div id="article-polling" data-pollurl="/poll/PHP/M.1145238313.A.2C6.html?cacheKey=2148-469797169&amp;offset=2426&amp;offset-sig=20221531857d6cd04336465b97c4718c3837a28b" data-longpollurl="/v1/longpoll?id=de7788fd0f75a29a942970b86d0c02f7beca9689" data-offset="2426"></div>
    

    
</div>

		

<script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//images.ptt.cc/bbs/v2.27/bbs.js"></script>

    <script type="text/javascript">(function(){window['__CF$cv$params']={r:'710ceac81a83afe5',m:'5UJDHcqbnlpFz8mCEYGIHmAxmlcEjnLc5szPYLUMQRM-1653467511-0-AY1aByEMWtkJFDzfC4RyJLNVuDWgc3pf7lqhcOT5DbyZDdLmGLEFEAxx23K1KANGPa7sTTZN33s0f2B4RUNEGn74///itQuVhfSlQsmwsAlJU26nykzuvozxaL2Pj8EoHfNEeaw+ZPUycYnMThftBHSDGD2Ui5KuyiKZ5tQPh/bJ',s:[0x179b85b155,0x95974edf65],u:'/cdn-cgi/challenge-platform/h/g'}})();</script></body>
</html>
