<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>Re: [問題] PHP存取MySQL最浪費時間的地方在？ - 看板 Web_Design - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="啊咧@@~原來沒差多少喔@@~
:   我是不知道你要寫的是啥東西...
:   只不過，狀況 A 應該是大多數系統的狀況
:   你要重整資料庫，以一個不知 server 死活的 programmer 來說
:   我覺得 database 的正規化 &amp; 程式的好寫度
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="Re: [問題] PHP存取MySQL最浪費時間的地方在？">
<meta property="og:description" content="啊咧@@~原來沒差多少喔@@~
:   我是不知道你要寫的是啥東西...
:   只不過，狀況 A 應該是大多數系統的狀況
:   你要重整資料庫，以一個不知 server 死活的 programmer 來說
:   我覺得 database 的正規化 &amp; 程式的好寫度
">
<link rel="canonical" href="https://www.ptt.cc/bbs/Web_Design/M.1139392732.A.A3C.html">

<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-common.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-custom.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-print.css" media="print">




	<script async src='/cdn-cgi/challenge-platform/h/g/scripts/invisible.js?ts=1653465600'></script></head>
    <body>
		
<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" href="/bbs/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" href="/bbs/Web_Design/index.html"><span class="board-label">看板 </span>Web_Design</a>
		<a class="right small" href="/about.html">關於我們</a>
		<a class="right small" href="/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" href="/bbs/Web_Design/index.html">返回看板</a>
		<div class="bar"></div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">grassboy2 (活力花俏草兒Grassboy大렩</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">Web_Design</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">Re: [問題] PHP存取MySQL最浪費時間的地方在？</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Wed Feb  8 18:10:07 2006</span></div>
<span class="f6">:   基本上，如果你都只是單純 select * from table
</span><span class="f6">:   那 A 跟 B 基本上沒有差
</span><span class="f6">:   當然，理論上從 100 找一筆資料，會比從 100000 找一筆資料快得多
</span><span class="f6">:   但是... 這之間的差異，看看執行個一千次會不會差到一秒？
</span>啊咧@@~原來沒差多少喔@@~
<span class="f6">:   我是不知道你要寫的是啥東西...
</span><span class="f6">:   只不過，狀況 A 應該是大多數系統的狀況
</span><span class="f6">:   你要重整資料庫，以一個不知 server 死活的 programmer 來說
</span><span class="f6">:   我覺得 database 的正規化 &amp; 程式的好寫度
</span><span class="f6">:   比效率來的重要的多
</span><span class="f6">:   就拿討論區來舉例
</span><span class="f6">:   我的設計是：
</span><span class="f6">:         Group（討論區）
</span><span class="f6">:         Topic（主題）
</span><span class="f6">:         Post（文章）
</span><span class="f6">:   你把 Post 這個 table，因為你覺得速度會比較快
</span><span class="f6">:   所以從狀況 A 拆成狀況 B
</span><span class="f6">:   一般顯示資料可能還 OK
</span><span class="f6">:   但是搜尋你要怎麼寫？
</span>我要寫的東西…嗯…
有部分應該和E-Mail系統有點像吧…
裡面的結構大略是

 database1
        users (使用者資料)
        mails (所有user收到的訊息)

但是人一多…
mails的資料量就會大增…
所以我就想要改成

 users_database
        users (使用者資料)

 mails_database
        (user_id1)
        (user_id2)
        (user_id3)
            ：
            ：
        (每個user_id都建立一個資料表)

如此…在使用者登入的時候，
只需要從users_database→users進行搜尋
當帳密正確，允許登入後…
再連結到mails_database
執行select * from &#39;user_id&#39; (←登入後的id)

這種結構…每個user在註冊的時候都會建立一個資料表
所以到時候mails_database裡面應該會有上萬個資料表
而由於使用者不需要搜尋別人的mails
那…這樣會比較有效率嗎？

謝謝大家耐心看完這個問題^^


--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc) 
</span>◆ From: 140.115.200.170
</div>
    
    <div id="article-polling" data-pollurl="/poll/Web_Design/M.1139392732.A.A3C.html?cacheKey=2149-475722291&amp;offset=1600&amp;offset-sig=828bb82fe72c138d342cf2acbe7a8aa61ad832fe" data-longpollurl="/v1/longpoll?id=4dd48abffd0c95664dc68573826ed03c806e3bb6" data-offset="1600"></div>
    

    
</div>

		

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//images.ptt.cc/bbs/v2.27/bbs.js"></script>

    <script type="text/javascript">(function(){window['__CF$cv$params']={r:'710ce9951f1714d0',m:'5haqNah_hYjiUn9OUhYUbYf3Cg8_Ia3grv0A7HKlg0w-1653467461-0-AX5UolHyA9wahipn5diGcF+Mzgl07GVR5IhzUm4rRYviWdSNP2A6nlKapHR4LBIvYU6do60FtPI6sRqJLAuwjuNntXjIKqnUu8ThyIVU/M0j752yWdBPHtoKrHiBlvLVwg/RRvzg6GgEdEg1THnceeLtgGil0AcJUoH5Ct2HC7QJ',s:[0x8feb1ca785,0x8923a046e3],u:'/cdn-cgi/challenge-platform/h/g'}})();</script></body>
</html>
