<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>[問題] How to implement Email confirmation? - 看板 Web_Design - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="如題，好奇這個功能各位是怎麼實做的。
我爬過版了，但是沒有找到我要的東西，所以我猜：
1. 在 user table 新增一個 column is_confirmed，default 是 0
2. 註冊時對 email 加一點鹽巴後再 hash
3. 產生類似這樣的網址：http://hostname/verify?email=...hash_code=...
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="[問題] How to implement Email confirmation?">
<meta property="og:description" content="如題，好奇這個功能各位是怎麼實做的。
我爬過版了，但是沒有找到我要的東西，所以我猜：
1. 在 user table 新增一個 column is_confirmed，default 是 0
2. 註冊時對 email 加一點鹽巴後再 hash
3. 產生類似這樣的網址：http://hostname/verify?email=...hash_code=...
">
<link rel="canonical" href="https://www.ptt.cc/bbs/Web_Design/M.1340617815.A.C2E.html">

<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-common.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-custom.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-print.css" media="print">




	<script async src='/cdn-cgi/challenge-platform/h/g/scripts/invisible.js?ts=1653465600'></script></head>
    <body>
		
<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" href="/bbs/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" href="/bbs/Web_Design/index.html"><span class="board-label">看板 </span>Web_Design</a>
		<a class="right small" href="/about.html">關於我們</a>
		<a class="right small" href="/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" href="/bbs/Web_Design/index.html">返回看板</a>
		<div class="bar"></div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">tonytonyjan (南洋大兜蟲)</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">Web_Design</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">[問題] How to implement Email confirmation?</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Mon Jun 25 17:50:11 2012</span></div>
如題，好奇這個功能各位是怎麼實做的。

我爬過版了，但是沒有找到我要的東西，所以我猜：

1. 在 user table 新增一個 column is_confirmed，default 是 0

2. 註冊時對 email 加一點鹽巴後再 hash

3. 產生類似這樣的網址：<a href="http://hostname/verify?email=...hash_code=..." target="_blank" rel="noreferrer noopener nofollow">http://hostname/verify?email=...hash_code=...</a>
   將網址寄到該 email

4. server 收到該 request 對 eamil 變數加點鹽巴再 hash，如果和 hash_code 一樣
   則把該 email 的使用者的 is_confirmed 設為 1

我還沒有實做過，所以想問大家是怎麼實作的，或習慣用什麼方法？

--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc)
</span>◆ From: 140.113.246.1
<span class="f2">※ 編輯: tonytonyjan     來自: 140.113.246.1        (06/25 17:50)
</span><span class="f2">※ 編輯: tonytonyjan     來自: 140.113.246.1        (06/25 17:55)
</span><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">hanhong</span><span class="f3 push-content">:差不多  不過我覺得有hash就夠了 不需要email</span><span class="push-ipdatetime"> 06/25 18:00
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">tonytonyjan</span><span class="f3 push-content">:有道理，我剛剛是用 MD5 去假設，所以還需要 email</span><span class="push-ipdatetime"> 06/25 18:09
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">mrbigmouth</span><span class="f3 push-content">:在註冊時產生一個隨機亂數存入資料表為主鍵　對應其ema</span><span class="push-ipdatetime"> 06/26 11:09
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">mrbigmouth</span><span class="f3 push-content">:il跟is_confirmed等資料　server接到網址時再去比對即</span><span class="push-ipdatetime"> 06/26 11:09
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">mrbigmouth</span><span class="f3 push-content">:可</span><span class="push-ipdatetime"> 06/26 11:09
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">tonytonyjan</span><span class="f3 push-content">:m大的方法似乎更簡單明瞭,而亂數大概就用時間去產生吧</span><span class="push-ipdatetime"> 06/26 21:42
</span></div></div>
    
    <div id="article-polling" data-pollurl="/poll/Web_Design/M.1340617815.A.C2E.html?cacheKey=2149-475916293&amp;offset=1397&amp;offset-sig=dbd9c4e5065e6804181bb3644c3f188958cd063f" data-longpollurl="/v1/longpoll?id=05b464c7a20976e74134025fa547ea74acfed425" data-offset="1397"></div>
    

    
</div>

		

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//images.ptt.cc/bbs/v2.27/bbs.js"></script>

    <script type="text/javascript">(function(){window['__CF$cv$params']={r:'710ce9fbf9ea14d0',m:'gEGsvdR_aWhSOoW095Pmnn.AztTx5.dt57hmeFQYjvQ-1653467478-0-AT+YpJpzr0ZLjK2AhcfTs9wWGsdiXOGhhuqtkIyWuDMOrnIjeIjQgCCdPOIbOmstStnQlbdNTg87DXc2b+0x78IpEdZUHxwJxdkdZeigdu6Me26k5XpSCzvU+SerPf37tV4ZUjODo6/wuU704h3xKkypjLtrU21L5f7gKKCrkIjV',s:[0x1ad1076c61,0xe03fe50a60],u:'/cdn-cgi/challenge-platform/h/g'}})();</script></body>
</html>
