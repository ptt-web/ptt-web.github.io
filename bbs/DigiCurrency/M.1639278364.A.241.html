<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		

<meta name="viewport" content="width=device-width, initial-scale=1">

<title>[閒聊]分享FTX自動交易bot開發-defenderAutotask - 看板 DigiCurrency - 批踢踢實業坊</title>
<meta name="robots" content="all">
<meta name="keywords" content="Ptt BBS 批踢踢">
<meta name="description" content="大家午安大家好
最近我寫出了一個可以讓我ftx錢包根據價格變動自動交易的bot：
medium文章
https://reurl.cc/0xAD06
簡單的規則：
">
<meta property="og:site_name" content="Ptt 批踢踢實業坊">
<meta property="og:title" content="[閒聊]分享FTX自動交易bot開發-defenderAutotask">
<meta property="og:description" content="大家午安大家好
最近我寫出了一個可以讓我ftx錢包根據價格變動自動交易的bot：
medium文章
https://reurl.cc/0xAD06
簡單的規則：
">
<link rel="canonical" href="https://www.ptt.cc/bbs/DigiCurrency/M.1639278364.A.241.html">

<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-common.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-base.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-custom.css">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/pushstream.css" media="screen">
<link rel="stylesheet" type="text/css" href="//images.ptt.cc/bbs/v2.27/bbs-print.css" media="print">




	<script async src='/cdn-cgi/challenge-platform/h/g/scripts/invisible.js?ts=1653465600'></script></head>
    <body>
		
<div id="topbar-container">
	<div id="topbar" class="bbs-content">
		<a id="logo" href="/bbs/">批踢踢實業坊</a>
		<span>&rsaquo;</span>
		<a class="board" href="/bbs/DigiCurrency/index.html"><span class="board-label">看板 </span>DigiCurrency</a>
		<a class="right small" href="/about.html">關於我們</a>
		<a class="right small" href="/contact.html">聯絡資訊</a>
	</div>
</div>
<div id="navigation-container">
	<div id="navigation" class="bbs-content">
		<a class="board" href="/bbs/DigiCurrency/index.html">返回看板</a>
		<div class="bar"></div>
	</div>
</div>
<div id="main-container">
    <div id="main-content" class="bbs-screen bbs-content"><div class="article-metaline"><span class="article-meta-tag">作者</span><span class="article-meta-value">jojomango (jojo)</span></div><div class="article-metaline-right"><span class="article-meta-tag">看板</span><span class="article-meta-value">DigiCurrency</span></div><div class="article-metaline"><span class="article-meta-tag">標題</span><span class="article-meta-value">[閒聊]分享FTX自動交易bot開發-defenderAutotask</span></div><div class="article-metaline"><span class="article-meta-tag">時間</span><span class="article-meta-value">Sun Dec 12 11:05:57 2021</span></div>
大家午安大家好
最近我寫出了一個可以讓我ftx錢包根據價格變動自動交易的bot：
medium文章
<a href="https://reurl.cc/0xAD06" target="_blank" rel="noreferrer noopener nofollow">https://reurl.cc/0xAD06</a>

簡單的規則：
錢包內有兩種幣: BTC, USD
當BTC/USD 價格變動3% 我就修改BTC 1%的持倉為USD, 低買高賣
並且把成交價格當作下一次判斷價格變動的基準
並抓 40%, 60%為資產平衡的邊界, 達到邊界就不做1%調整 而是逼近邊界的買賣量

這個task會在OpenZeppelin的defender autotask上跑
每兩分鐘跑一次, 免費額度是一小時120個task (因為我還有其他錢包要交易 和放貸所以
抓這個頻率)

可修改參數
交易對BTC/USD 可改為任何FTX上有的交易對
買賣幣種 BTC -&gt; 改為你選擇的交易對的其一
平衡邊界40, 60可以改為更激進的20 80 你開心 無價

須具備基本知識
git, yarn

須申請FTX, Openzeppelin-defender帳號 (都是免費的)

注意事項：
邏輯會以最後一次的成交金額 來計算+-3%當做買賣觸發
如果該錢包沒有任何交易紀錄 或是你不想要以最後一次的交易金額來做初始金額依據
需手動修改code 請看文章介紹

開發背景
之前我一直做自動放貸, 貸出90%的錢包資產, 然後設定[量化空間]的條件來自動買賣平
衡資產
另外用app設定到價通知, 每當變動3% 就去量化空間修改平衡百分比, 並更新app的到價
通知為新的高低價
其實一開始我也想讓量化空間維持50:50的平衡就好, 後來發現實在觸發機率低 量又少
所以才想到價格變動3% 改變平衡1%這種增加價差的操作(大部分資金還是buy and hold)
但這個a. 修改平衡百分比 b.修改app到價通知 c. 注意手機通知
這些任務實在是很機械化 又常常遲一步 浪費我心力
終於寫出一個task自動取代我的手動策略 開心

如果有看到沒想到的case 或是文章讓你confuse的地方也歡迎指出
謝謝 祝發財

--
泡麵之精粹在於


水淹過麵一瞇瞇!!

--
<span class="f2">※ 發信站: 批踢踢實業坊(ptt.cc), 來自: 180.129.29.160 (新加坡)
</span><span class="f2">※ 文章網址: <a href="https://www.ptt.cc/bbs/DigiCurrency/M.1639278364.A.241.html" target="_blank" rel="noreferrer noopener nofollow">https://www.ptt.cc/bbs/DigiCurrency/M.1639278364.A.241.html</a>
</span><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">fire2577</span><span class="f3 push-content">: 推</span><span class="push-ipdatetime"> 12/12 11:22
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">bxc</span><span class="f3 push-content">: 推</span><span class="push-ipdatetime"> 12/12 11:37
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">l1724108</span><span class="f3 push-content">: 推</span><span class="push-ipdatetime"> 12/12 11:48
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">AudiA4</span><span class="f3 push-content">: 感謝分享</span><span class="push-ipdatetime"> 12/12 12:14
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">chengwei211</span><span class="f3 push-content">: 推</span><span class="push-ipdatetime"> 12/12 12:15
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">chenblue</span><span class="f3 push-content">: 推一個，目前手動做類似的事</span><span class="push-ipdatetime"> 12/12 12:39
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">creepy</span><span class="f3 push-content">: 如果兩分鐘穿越好幾個3% 通通都要執行嗎?</span><span class="push-ipdatetime"> 12/12 12:46
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: 不會 假設2分鐘內跑了6%, 會把1%資產以這個價格做交易</span><span class="push-ipdatetime"> 12/12 12:52
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: hum 這也是我說 我在size變化上沒有很準確 也許以這個2</span><span class="push-ipdatetime"> 12/12 12:53
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: 這個狀況 要交易2%資產才是 比較大幅度的買低賣高</span><span class="push-ipdatetime"> 12/12 12:54
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">tomap41017</span><span class="f3 push-content">: 推</span><span class="push-ipdatetime"> 12/12 12:59
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: ah, I see, size在計算時還要加入現價和上次成交價比較</span><span class="push-ipdatetime"> 12/12 13:00
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: 如果有需要 可以增加size超過1%</span><span class="push-ipdatetime"> 12/12 13:01
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: 這才是比較效率的低買高賣 太棒了 晚點來改</span><span class="push-ipdatetime"> 12/12 13:01
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">btcTOmoon</span><span class="f3 push-content">: 推</span><span class="push-ipdatetime"> 12/12 14:20
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">p074466546</span><span class="f3 push-content">: 可以自動搬磚去其他交易所嗎，我手動搬的好累</span><span class="push-ipdatetime"> 12/12 14:43
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: <a href="https://docs.ftx.com/#request-withdrawal" target="_blank" rel="noreferrer noopener nofollow">https://docs.ftx.com/#request-withdrawal</a></span><span class="push-ipdatetime"> 12/12 14:48
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: 似乎可行, 有支援withdraw API</span><span class="push-ipdatetime"> 12/12 14:49
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: 還有另一隻API事先計算fee</span><span class="push-ipdatetime"> 12/12 14:49
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">orangesky43</span><span class="f3 push-content">: 看不懂，覺得很強就推</span><span class="push-ipdatetime"> 12/12 14:54
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jaxchang</span><span class="f3 push-content">: 先推！目前沒懂，研究先</span><span class="push-ipdatetime"> 12/12 15:05
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">xichen0326</span><span class="f3 push-content">: 推推</span><span class="push-ipdatetime"> 12/12 18:08
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">Skasila</span><span class="f3 push-content">: 感謝分享</span><span class="push-ipdatetime"> 12/13 12:12
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">kvzhuang</span><span class="f3 push-content">: 推一下</span><span class="push-ipdatetime"> 12/13 14:00
</span></div><div class="push"><span class="hl push-tag">推 </span><span class="f3 hl push-userid">mike1021031</span><span class="f3 push-content">: 請問這個跟無線網格自動平衡有什麼差異</span><span class="push-ipdatetime"> 12/13 16:42
</span></div><div class="push"><span class="f1 hl push-tag">→ </span><span class="f3 hl push-userid">jojomango</span><span class="f3 push-content">: 滿類似的 可能就在比例開關上比較彈性 自己隨時調</span><span class="push-ipdatetime"> 12/14 13:04
</span></div></div>
    
    <div id="article-polling" data-pollurl="/poll/DigiCurrency/M.1639278364.A.241.html?cacheKey=2148-146414314&amp;offset=4365&amp;offset-sig=cd6dfc0946a571e74a05f91b30e84869ac17b381" data-longpollurl="/v1/longpoll?id=0e54f79e040b540de65699cc8bc80a48043bb8f9" data-offset="4365"></div>
    

    
</div>

		

<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-32365737-1', {
    cookieDomain: 'ptt.cc',
    legacyCookieDomain: 'ptt.cc'
  });
  ga('send', 'pageview');
</script>


		
<script src="//ajax.googleapis.com/ajax/libs/jquery/2.1.1/jquery.min.js"></script>
<script src="//images.ptt.cc/bbs/v2.27/bbs.js"></script>

    <script type="text/javascript">(function(){window['__CF$cv$params']={r:'710ce25f5ee92098',m:'dHkkazDk6itd5CYGvUq.SPGHSzIcBFdVr2koVzwhCMs-1653467166-0-ATxpIROkbCnvvkIUG9oB0pc3DJx4SLyNzhi4Pwndv7lLXcnMa+/dXsXVXByim7XV8F0F5inJZX8ZsSV73cpEQDnFhrgAT0VqgZKqbCkL5sBVWWcpZD8nYDXEUny7chjAaCbPZbeOl8mjoo/WPZk/kzM1bzOjQ7AtVUIKmlugD5ds',s:[0x82c9196415,0x09fc489eb8],u:'/cdn-cgi/challenge-platform/h/g'}})();</script></body>
</html>
